[package]
build = "build.rs"
edition = "2021"
name = "prql-python"
version = "0.0.3"

[lib]
crate-type = ["cdylib"]
name = "prql_python"

[target.'cfg(not(target_family="wasm"))'.dependencies]
pyo3 = {version = "0.16.5", features = ["abi3-py37"]}

[features]
# This is required because of https://github.com/PyO3/pyo3/pull/2135. Instead of
# the suggestions there to run tests with `--no-default-features`, we instead
# disable by default and then enable in the build, given that we're going to be
# testing more often than building.
default = []
extension-module = ["pyo3/extension-module"]

[dependencies]
prql-compiler = {path = "../prql-compiler"}

[build-dependencies]
pyo3-build-config = "0.16.5"
